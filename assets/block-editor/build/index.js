!function(){"use strict";var e=window.wp.element,t=window.wp.plugins,o=window.wp.i18n,i=window.wp.data,n=window.wp.editPost,d=window.wp.date,l=window.wp.components,s=()=>{const t=(0,d.__experimentalGetSettings)(),s=t.formats.datetime,a=!!t.formats.time.includes("a"),{editedModified:r,currentModified:u,postStatus:c,postMeta:m}=(0,i.useSelect)((e=>({editedModified:e("core/editor").getEditedPostAttribute("modified"),currentModified:e("core/editor").getCurrentPostAttribute("modified"),postStatus:e("core/editor").getEditedPostAttribute("status"),postMeta:e("core/editor").getEditedPostAttribute("meta")}))),{editPost:p}=(0,i.useDispatch)("core/editor",[r]);return["auto-draft","future"].includes(c)?null:(0,e.createElement)(n.PluginPostStatusInfo,null,"yes"==m._lmt_disableupdate?(0,e.createElement)(e.Fragment,null,(0,e.createElement)("span",null,(0,o.__)("Last Modified","wp-last-modified-info")),(0,e.createElement)("b",null,(0,d.dateI18n)(s,u))):(0,e.createElement)(e.Fragment,null,(0,e.createElement)("span",null,(0,o.__)("Modified","wp-last-modified-info")),(0,e.createElement)(l.Dropdown,{position:"bottom left",contentClassName:"edit-post-post-schedule__dialog",renderToggle:t=>{let{onToggle:o,isOpen:i}=t;return(0,e.createElement)(l.Button,{className:"edit-post-post-schedule__toggle",onClick:o,"aria-expanded":i,isTertiary:!0},(0,d.dateI18n)(s,r))},renderContent:()=>(0,e.createElement)(l.DateTimePicker,{currentDate:r,onChange:e=>{p({modified:e})},is12Hour:a})})))},a=()=>{const{postStatus:t,postMeta:d}=(0,i.useSelect)((e=>({postStatus:e("core/editor").getEditedPostAttribute("status"),postMeta:e("core/editor").getEditedPostAttribute("meta")}))),{editPost:s}=(0,i.useDispatch)("core/editor",[d._lmt_disableupdate]);return["auto-draft","future"].includes(t)?null:(0,e.createElement)(n.PluginPostStatusInfo,null,(0,e.createElement)("span",null,(0,o.__)("Lock Modified Date","wp-last-modified-info")),(0,e.createElement)(l.FormToggle,{checked:"yes"==d._lmt_disableupdate,onChange:()=>s({meta:{_lmt_disableupdate:"yes"==d._lmt_disableupdate?"no":"yes"}})}))},r=()=>{const{postStatus:t,postType:d,postMeta:s}=(0,i.useSelect)((e=>({postStatus:e("core/editor").getEditedPostAttribute("status"),postType:e("core/editor").getCurrentPostType(),postMeta:e("core/editor").getEditedPostAttribute("meta")}))),{editPost:a}=(0,i.useDispatch)("core/editor",[s._lmt_disable]);return["auto-draft","future"].includes(t)?null:wplmiBlockEditor.postTypes.includes(d)?(0,e.createElement)(n.PluginDocumentSettingPanel,{name:"modified-info",title:(0,o.__)("Modified Info","wp-last-modified-info"),className:"wplmi-panel",icon:null},(0,e.createElement)(l.PanelRow,null,(0,e.createElement)(l.CheckboxControl,{label:(0,o.__)("Hide Modified Info on Frontend","wp-last-modified-info"),checked:"yes"==s._lmt_disable,onChange:()=>a({meta:{_lmt_disable:"yes"==s._lmt_disable?"no":"yes"}})}))):null};(0,t.registerPlugin)("wp-last-modified-info",{render:()=>(0,e.createElement)(e.Fragment,null,(0,e.createElement)(s,null),(0,e.createElement)(a,null),(0,e.createElement)(r,null)),icon:null})}();